<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="images/favicon.png">
    <title>Data Study: NYC Retail Footfall | Data Jam Retail</title>
    <meta name="description" content="Real JamBox footfall data from a Times Square store entrance. See hourly patterns, weekend vs weekday traffic, holiday surges, and weather impacts.">
    <meta name="keywords" content="retail footfall case study, Times Square retail analytics, holiday season footfall, store traffic analysis">

    <meta name="robots" content="index, follow">
    <meta name="author" content="Data Jam">
    <link rel="canonical" href="https://retail.data-jam.com/case-study-nyc-retail">
    <link rel="stylesheet" href="css/styles.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Open Graph -->
    <meta property="og:title" content="Data Study: NYC Retail Footfall | Data Jam Retail">
    <meta property="og:description" content="Real JamBox data from a Times Square store. Hourly patterns, weekend trends, and holiday insights.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://retail.data-jam.com/case-study-nyc-retail">

    <style>
        .case-study-hero {
            background: linear-gradient(135deg, rgba(230, 47, 110, 0.2) 0%, rgba(233, 75, 82, 0.15) 100%);
            padding: 100px 0 60px;
        }
        .case-study-meta {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        .meta-item {
            text-align: center;
            padding: 20px 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .meta-label {
            font-size: 0.85rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .meta-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            margin-top: 5px;
        }
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, rgba(230, 47, 110, 0.1) 0%, rgba(233, 75, 82, 0.05) 100%);
            border: 1px solid rgba(230, 47, 110, 0.2);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
        }
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #E62F6E 0%, #E94B52 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .stat-label {
            color: #ccc;
            margin-top: 10px;
            font-size: 0.95rem;
        }
        .insight-block {
            background: rgba(255,255,255,0.03);
            border-left: 4px solid #E62F6E;
            padding: 25px 30px;
            margin: 30px 0;
            border-radius: 0 12px 12px 0;
        }
        .insight-block h4 {
            color: #E62F6E;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .chart-placeholder {
            background: rgba(255,255,255,0.02);
            border: 1px dashed rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 60px 30px;
            text-align: center;
            color: #666;
            margin: 30px 0;
        }
        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 40px 0;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #E62F6E, #E94B52);
        }
        .timeline-item {
            position: relative;
            padding-bottom: 30px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -34px;
            top: 5px;
            width: 10px;
            height: 10px;
            background: #E62F6E;
            border-radius: 50%;
        }
        .timeline-date {
            color: #E62F6E;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .results-highlight {
            background: linear-gradient(135deg, #E62F6E 0%, #E94B52 100%);
            border-radius: 16px;
            padding: 40px;
            margin: 40px 0;
            color: #fff;
        }
        .results-highlight h3 {
            color: #fff;
            margin-bottom: 20px;
        }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        .result-item {
            text-align: center;
        }
        .result-number {
            font-size: 2rem;
            font-weight: 700;
        }
        .result-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .quote-block {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 40px;
            margin: 40px 0;
            position: relative;
        }
        .quote-block::before {
            content: '"';
            font-size: 4rem;
            color: #E62F6E;
            position: absolute;
            top: 10px;
            left: 20px;
            opacity: 0.3;
            font-family: Georgia, serif;
        }
        .quote-text {
            font-size: 1.2rem;
            font-style: italic;
            color: #ddd;
            margin-bottom: 20px;
            padding-left: 40px;
        }
        .quote-author {
            color: #999;
            padding-left: 40px;
        }
        /* Chart styles */
        .chart-container {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(255,255,255,0.08);
        }
        .chart-container h3 {
            margin-bottom: 10px;
            color: #fff;
        }
        .chart-container p {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 300px;
            width: 100%;
        }
        .chart-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .chart-tab {
            padding: 10px 20px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #999;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .chart-tab:hover {
            background: rgba(230, 47, 110, 0.1);
            border-color: rgba(230, 47, 110, 0.3);
            color: #fff;
        }
        .chart-tab.active {
            background: linear-gradient(135deg, #E62F6E 0%, #E94B52 100%);
            border-color: transparent;
            color: #fff;
        }
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }
        @media (max-width: 500px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            .chart-wrapper {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <header class="site-header">
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <img src="images/logo-gradient.png" alt="Data Jam Retail" class="logo-img">
            </a>
            <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="navMenu" id="mobileMenuToggle">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html#how-it-works">How It Works</a></li>
                <li><a href="index.html#benefits">Benefits</a></li>
                <li><a href="index.html#use-cases">Use Cases</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="case-study-hero">
        <div class="container">
            <p class="hero-subtitle" style="color: #E62F6E; margin-bottom: 10px;">DATA STUDY</p>
            <h1>What One Month of Footfall Data Reveals About a Times Square Store Entrance</h1>
            <p class="lead" style="max-width: 700px;">Real JamBox data from a high-traffic NYC retail location. See what footfall analytics can tell you about customer patterns, peak hours, and seasonal trends.</p>

            <div class="case-study-meta">
                <div class="meta-item">
                    <div class="meta-label">Industry</div>
                    <div class="meta-value">Fashion Retail</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Location</div>
                    <div class="meta-value">Times Square, NYC</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Period</div>
                    <div class="meta-value">December 2026</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Sensor</div>
                    <div class="meta-value">Store Entrance</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Stats -->
    <section class="section">
        <div class="container">
            <h2 class="text-center">The Numbers</h2>
            <p class="text-center" style="color: #999; max-width: 600px; margin: 0 auto 40px;">One month of footfall data from JamBox revealed powerful insights about customer behaviour.</p>

            <div class="stat-grid">
                <div class="stat-card animate-on-scroll">
                    <div class="stat-number">2.9M+</div>
                    <div class="stat-label">Total visitors tracked in December</div>
                </div>
                <div class="stat-card animate-on-scroll">
                    <div class="stat-number">94,237</div>
                    <div class="stat-label">Average daily footfall</div>
                </div>
                <div class="stat-card animate-on-scroll">
                    <div class="stat-number">153,406</div>
                    <div class="stat-label">Peak day (Dec 21)</div>
                </div>
                <div class="stat-card animate-on-scroll">
                    <div class="stat-number">+23%</div>
                    <div class="stat-label">Weekend vs weekday traffic</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Charts -->
    <section class="section" style="background: rgba(255,255,255,0.02);">
        <div class="container">
            <h2 class="animate-on-scroll">Explore the Data</h2>
            <p class="section-intro animate-on-scroll">Hover over the charts to see detailed numbers. Click legend items to show/hide data.</p>

            <!-- Daily Footfall Chart -->
            <div class="chart-container animate-on-scroll">
                <h3>Daily Footfall - December 2026</h3>
                <p>See how traffic varied throughout the month. Notice the holiday surge in the final weeks.</p>
                <div class="chart-tabs">
                    <button class="chart-tab active" onclick="toggleDailyChart('bar')">Bar Chart</button>
                    <button class="chart-tab" onclick="toggleDailyChart('line')">Line Chart</button>
                </div>
                <div class="chart-wrapper">
                    <canvas id="dailyChart"></canvas>
                </div>
            </div>

            <div class="charts-grid">
                <!-- Hourly Pattern Chart -->
                <div class="chart-container animate-on-scroll">
                    <h3>Hourly Traffic Pattern</h3>
                    <p>Average footfall by hour of day. Peak is 6pm-10pm.</p>
                    <div class="chart-wrapper">
                        <canvas id="hourlyChart"></canvas>
                    </div>
                </div>

                <!-- Day of Week Chart -->
                <div class="chart-container animate-on-scroll">
                    <h3>Day of Week Comparison</h3>
                    <p>Weekends see 23% more traffic than weekdays.</p>
                    <div class="chart-wrapper">
                        <canvas id="dayOfWeekChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Weather Impact Chart -->
            <div class="chart-container animate-on-scroll">
                <h3>Weather Impact on Footfall</h3>
                <p>Compare rainy days vs dry days. Rain significantly reduces foot traffic.</p>
                <div class="chart-wrapper">
                    <canvas id="weatherChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Why This Matters -->
    <section class="section" style="background: rgba(255,255,255,0.02);">
        <div class="container">
            <h2>Why Footfall Data Matters</h2>
            <p class="lead">Most retailers face these challenges without accurate traffic data:</p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 30px;">
                <div class="animate-on-scroll">
                    <h4 style="color: #E62F6E;">Staffing by Guesswork</h4>
                    <p>Without footfall data, managers schedule staff based on intuition - often overstaffing quiet periods and understaffing peak times.</p>
                </div>
                <div class="animate-on-scroll">
                    <h4 style="color: #E62F6E;">Unknown Conversion Rates</h4>
                    <p>You know your sales figures, but without visitor counts you can't calculate your true conversion rate or benchmark improvements.</p>
                </div>
                <div class="animate-on-scroll">
                    <h4 style="color: #E62F6E;">Seasonal Planning in the Dark</h4>
                    <p>Holiday staffing is typically based on last year's sales. But sales don't tell you how many people walked past without buying.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Insights -->
    <section class="section">
        <div class="container">
            <h2>What JamBox Revealed</h2>

            <div class="insight-block animate-on-scroll">
                <h4>Evening Rush Discovery</h4>
                <p>Peak footfall consistently occurred between <strong>6pm and 10pm</strong>, with 9-10pm being the busiest hour. This was surprising as the store had always focused staffing on lunch hours. The Times Square tourist crowd peaks in the evening.</p>
            </div>

            <div class="insight-block animate-on-scroll">
                <h4>Weekend Surge Pattern</h4>
                <p>Weekend traffic averaged <strong>109,614 visitors daily</strong> compared to 88,889 on weekdays - a 23% increase. Saturdays and Sundays required fundamentally different staffing models.</p>
            </div>

            <div class="insight-block animate-on-scroll">
                <h4>Christmas Week Explosion</h4>
                <p>The week of December 20-28 saw daily footfall jump to <strong>130,000-153,000</strong> - nearly 60% above the monthly average. Dec 21st hit the peak at 153,406 visitors. Christmas Day itself saw 152,185 visitors.</p>
            </div>

            <div class="insight-block animate-on-scroll">
                <h4>Weather Impact Quantified</h4>
                <p>On December 3rd (13mm rain), footfall dropped 30% compared to similar dry days. This data now triggers automatic staffing adjustments when rain is forecast.</p>
            </div>
        </div>
    </section>

    <!-- Hourly Breakdown -->
    <section class="section" style="background: rgba(255,255,255,0.02);">
        <div class="container">
            <h2>Hourly Traffic Patterns</h2>
            <p>Understanding when customers arrive transformed how the store operates.</p>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin: 40px 0;">
                <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                    <div style="font-size: 0.8rem; color: #666;">6am-9am</div>
                    <div style="font-size: 1.3rem; font-weight: 600; color: #777;">Low</div>
                    <div style="font-size: 0.75rem; color: #555;">~1,600/hr</div>
                </div>
                <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                    <div style="font-size: 0.8rem; color: #666;">9am-12pm</div>
                    <div style="font-size: 1.3rem; font-weight: 600; color: #E94B52;">Building</div>
                    <div style="font-size: 0.75rem; color: #555;">~4,500/hr</div>
                </div>
                <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                    <div style="font-size: 0.8rem; color: #666;">12pm-5pm</div>
                    <div style="font-size: 1.3rem; font-weight: 600; color: #E94B52;">Steady</div>
                    <div style="font-size: 0.75rem; color: #555;">~5,000/hr</div>
                </div>
                <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, rgba(230, 47, 110, 0.2) 0%, rgba(233, 75, 82, 0.15) 100%); border-radius: 8px; border: 1px solid rgba(230, 47, 110, 0.3);">
                    <div style="font-size: 0.8rem; color: #E62F6E;">6pm-10pm</div>
                    <div style="font-size: 1.3rem; font-weight: 600; color: #E62F6E;">PEAK</div>
                    <div style="font-size: 0.75rem; color: #E62F6E;">~6,000/hr</div>
                </div>
                <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                    <div style="font-size: 0.8rem; color: #666;">10pm-12am</div>
                    <div style="font-size: 1.3rem; font-weight: 600; color: #777;">Tapering</div>
                    <div style="font-size: 0.75rem; color: #555;">~4,000/hr</div>
                </div>
            </div>
        </div>
    </section>

    <!-- What This Data Enables -->
    <section class="section">
        <div class="container">
            <div class="results-highlight">
                <h3>What This Data Enables</h3>
                <p style="margin-bottom: 30px;">With one month of JamBox data, retailers can make informed decisions about:</p>
                <div class="results-grid">
                    <div class="result-item">
                        <div class="result-number">Staffing</div>
                        <div class="result-label">Match coverage to actual traffic patterns</div>
                    </div>
                    <div class="result-item">
                        <div class="result-number">Conversion</div>
                        <div class="result-label">Calculate true visitor-to-sale ratios</div>
                    </div>
                    <div class="result-item">
                        <div class="result-number">Planning</div>
                        <div class="result-label">Prepare for predictable surges</div>
                    </div>
                    <div class="result-item">
                        <div class="result-number">Real-time</div>
                        <div class="result-label">React to traffic as it happens</div>
                    </div>
                </div>
            </div>

            <div class="insight-block animate-on-scroll">
                <h4>The Key Question This Data Answers</h4>
                <p>Most retailers assume they know their busy periods. This data often reveals surprises - like peak traffic occurring in the evening rather than at lunch, or weekends being 23% busier than expected. <strong>Without measurement, you're guessing. With JamBox, you know.</strong></p>
            </div>
        </div>
    </section>

    <!-- Actionable Insights -->
    <section class="section" style="background: rgba(255,255,255,0.02);">
        <div class="container">
            <h2>Actionable Insights From This Data</h2>
            <p class="lead">Here's what a store manager could do with these insights:</p>
            <div class="timeline">
                <div class="timeline-item animate-on-scroll">
                    <div class="timeline-date">Insight 1</div>
                    <h4>Shift Evening Coverage</h4>
                    <p>The data shows peak traffic at 6-10pm, not lunchtime. A manager could reallocate staff from morning to evening shifts to better match actual demand.</p>
                </div>
                <div class="timeline-item animate-on-scroll">
                    <div class="timeline-date">Insight 2</div>
                    <h4>Weekend Staffing</h4>
                    <p>With weekends 23% busier than weekdays, there's a clear case for adding weekend coverage rather than spreading staff evenly across the week.</p>
                </div>
                <div class="timeline-item animate-on-scroll">
                    <div class="timeline-date">Insight 3</div>
                    <h4>Holiday Surge Planning</h4>
                    <p>The Dec 20-28 surge to 130K-153K daily visitors was predictable from the trend. Next year, this data justifies hiring seasonal staff for those specific dates.</p>
                </div>
                <div class="timeline-item animate-on-scroll">
                    <div class="timeline-date">Insight 4</div>
                    <h4>Weather Adjustments</h4>
                    <p>The 30% drop on rainy days (Dec 3rd) suggests staffing could be reduced when heavy rain is forecast, saving labour costs on predictably quiet days.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Other Studies -->
    <section class="section" style="padding-bottom: 0;">
        <div class="container">
            <div style="padding: 40px; background: rgba(255,255,255,0.02); border-radius: 16px; text-align: center;">
                <h3 style="margin-bottom: 20px;">Explore More Data Studies</h3>
                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <a href="case-study-uk-mall.html" style="padding: 12px 24px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; text-decoration: none;">UK Shopping Mall</a>
                    <a href="case-study-leisure-center.html" style="padding: 12px 24px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; text-decoration: none;">Leisure Centre</a>
                    <a href="case-study-fast-food.html" style="padding: 12px 24px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff; text-decoration: none;">Fast Food Restaurant</a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="section cta-section animate-on-scroll animate-scale">
        <div class="container">
            <h2>Ready to Understand Your Footfall?</h2>
            <p>JamBox installs in minutes and starts delivering insights immediately. No complex setup, no ongoing fees surprises.</p>
            <a href="contact.html" class="btn btn-primary">Get Started</a>
            <a href="index.html#how-it-works" class="btn btn-secondary" style="margin-left: 15px;">Learn More</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <h4>Data Jam Retail</h4>
                    <p>Real-time footfall analytics for high street businesses. Know your customers, grow your business.</p>
                </div>
                <div class="footer-links">
                    <h4>Product</h4>
                    <ul>
                        <li><a href="index.html#how-it-works">How It Works</a></li>
                        <li><a href="index.html#benefits">Benefits</a></li>
                        <li><a href="index.html#use-cases">Use Cases</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:hello@data-jam.com">hello@data-jam.com</a></li>
                        <li><a href="tel:+447827813388">+44 7827 813388</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Data Jam. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>

    <!-- Chart Initialization -->
    <script>
    // Real data from JamBox - December 2026
    const dailyData = {
        labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
        values: [82687, 31680, 55893, 40169, 65443, 103184, 108017, 75271, 92515, 64124, 90042, 105688, 63036, 79101, 103474, 103143, 79483, 89265, 42898, 128180, 153406, 146174, 106380, 143117, 152185, 101535, 90894, 151091, 112693, 97719, 62872],
        rain: [2, 0, 13, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 0, 17, 0, 0, 0, 3, 0, 0, 2, 2, 0, 1, 0]
    };

    const hourlyData = {
        labels: ['12am', '1am', '2am', '3am', '4am', '5am', '6am', '7am', '8am', '9am', '10am', '11am', '12pm', '1pm', '2pm', '3pm', '4pm', '5pm', '6pm', '7pm', '8pm', '9pm', '10pm', '11pm'],
        values: [3834, 2222, 1286, 1029, 933, 942, 1270, 1601, 2856, 3980, 4603, 5003, 5296, 5012, 5382, 4791, 4947, 4581, 5663, 5861, 5545, 6039, 6359, 5201]
    };

    const dayOfWeekData = {
        labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
        values: [87920, 81732, 72899, 77348, 79613, 95100, 113546]
    };

    // Chart colors
    const pinkGradient = (ctx) => {
        const gradient = ctx.createLinearGradient(0, 0, 0, 300);
        gradient.addColorStop(0, 'rgba(230, 47, 110, 0.8)');
        gradient.addColorStop(1, 'rgba(233, 75, 82, 0.4)');
        return gradient;
    };

    const chartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
            intersect: false,
            mode: 'index'
        },
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                backgroundColor: 'rgba(10, 12, 17, 0.95)',
                titleColor: '#fff',
                bodyColor: '#ccc',
                borderColor: 'rgba(230, 47, 110, 0.5)',
                borderWidth: 1,
                padding: 12,
                displayColors: false,
                callbacks: {
                    label: function(context) {
                        return context.parsed.y.toLocaleString() + ' visitors';
                    }
                }
            }
        },
        scales: {
            x: {
                grid: {
                    color: 'rgba(255,255,255,0.05)'
                },
                ticks: {
                    color: '#888'
                }
            },
            y: {
                grid: {
                    color: 'rgba(255,255,255,0.05)'
                },
                ticks: {
                    color: '#888',
                    callback: function(value) {
                        return (value / 1000) + 'K';
                    }
                }
            }
        }
    };

    // Daily Chart
    let dailyChart;
    const dailyCtx = document.getElementById('dailyChart').getContext('2d');

    function createDailyChart(type) {
        if (dailyChart) dailyChart.destroy();

        dailyChart = new Chart(dailyCtx, {
            type: type,
            data: {
                labels: dailyData.labels.map(d => 'Dec ' + d),
                datasets: [{
                    label: 'Daily Footfall',
                    data: dailyData.values,
                    backgroundColor: type === 'bar' ? pinkGradient(dailyCtx) : 'rgba(230, 47, 110, 0.1)',
                    borderColor: '#E62F6E',
                    borderWidth: 2,
                    fill: type === 'line',
                    tension: 0.4,
                    pointBackgroundColor: '#E62F6E',
                    pointBorderColor: '#fff',
                    pointHoverRadius: 8,
                    pointRadius: type === 'line' ? 3 : 0
                }]
            },
            options: {
                ...chartOptions,
                plugins: {
                    ...chartOptions.plugins,
                    tooltip: {
                        ...chartOptions.plugins.tooltip,
                        callbacks: {
                            title: function(context) {
                                const idx = context[0].dataIndex;
                                const rain = dailyData.rain[idx];
                                let title = 'December ' + dailyData.labels[idx];
                                if (rain > 0) title += ' (Rain: ' + rain + 'mm)';
                                return title;
                            },
                            label: function(context) {
                                return context.parsed.y.toLocaleString() + ' visitors';
                            }
                        }
                    }
                }
            }
        });
    }

    function toggleDailyChart(type) {
        document.querySelectorAll('.chart-tabs .chart-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        event.target.classList.add('active');
        createDailyChart(type);
    }

    createDailyChart('bar');

    // Hourly Chart
    const hourlyCtx = document.getElementById('hourlyChart').getContext('2d');
    new Chart(hourlyCtx, {
        type: 'line',
        data: {
            labels: hourlyData.labels,
            datasets: [{
                label: 'Average Hourly Footfall',
                data: hourlyData.values,
                backgroundColor: 'rgba(230, 47, 110, 0.1)',
                borderColor: '#E62F6E',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: function(context) {
                    const value = context.dataset.data[context.dataIndex];
                    return value > 5500 ? '#E62F6E' : 'rgba(230, 47, 110, 0.5)';
                },
                pointBorderColor: '#fff',
                pointRadius: function(context) {
                    const value = context.dataset.data[context.dataIndex];
                    return value > 5500 ? 6 : 3;
                },
                pointHoverRadius: 8
            }]
        },
        options: {
            ...chartOptions,
            plugins: {
                ...chartOptions.plugins,
                tooltip: {
                    ...chartOptions.plugins.tooltip,
                    callbacks: {
                        title: function(context) {
                            const hour = context[0].dataIndex;
                            const isPeak = hourlyData.values[hour] > 5500;
                            return hourlyData.labels[hour] + (isPeak ? ' (PEAK)' : '');
                        },
                        label: function(context) {
                            return 'Average: ' + context.parsed.y.toLocaleString() + ' visitors/hour';
                        }
                    }
                }
            }
        }
    });

    // Day of Week Chart
    const dowCtx = document.getElementById('dayOfWeekChart').getContext('2d');
    new Chart(dowCtx, {
        type: 'bar',
        data: {
            labels: dayOfWeekData.labels,
            datasets: [{
                label: 'Average Daily Footfall',
                data: dayOfWeekData.values,
                backgroundColor: dayOfWeekData.labels.map((day, i) =>
                    (i === 5 || i === 6) ? '#E62F6E' : 'rgba(230, 47, 110, 0.4)'
                ),
                borderColor: dayOfWeekData.labels.map((day, i) =>
                    (i === 5 || i === 6) ? '#E62F6E' : 'rgba(230, 47, 110, 0.6)'
                ),
                borderWidth: 2,
                borderRadius: 6
            }]
        },
        options: {
            ...chartOptions,
            plugins: {
                ...chartOptions.plugins,
                tooltip: {
                    ...chartOptions.plugins.tooltip,
                    callbacks: {
                        title: function(context) {
                            const day = context[0].label;
                            const isWeekend = day === 'Saturday' || day === 'Sunday';
                            return day + (isWeekend ? ' (Weekend)' : ' (Weekday)');
                        },
                        label: function(context) {
                            return 'Average: ' + context.parsed.y.toLocaleString() + ' visitors';
                        }
                    }
                }
            }
        }
    });

    // Weather Impact Chart
    const weatherCtx = document.getElementById('weatherChart').getContext('2d');

    // Separate rainy vs dry days
    const rainyDays = dailyData.values.filter((v, i) => dailyData.rain[i] > 5);
    const dryDays = dailyData.values.filter((v, i) => dailyData.rain[i] === 0);
    const rainyAvg = rainyDays.reduce((a, b) => a + b, 0) / rainyDays.length;
    const dryAvg = dryDays.reduce((a, b) => a + b, 0) / dryDays.length;

    new Chart(weatherCtx, {
        type: 'bar',
        data: {
            labels: ['Dry Days (0mm rain)', 'Rainy Days (>5mm rain)'],
            datasets: [{
                label: 'Average Daily Footfall',
                data: [dryAvg, rainyAvg],
                backgroundColor: ['#E62F6E', 'rgba(230, 47, 110, 0.3)'],
                borderColor: ['#E62F6E', 'rgba(230, 47, 110, 0.5)'],
                borderWidth: 2,
                borderRadius: 8
            }]
        },
        options: {
            ...chartOptions,
            indexAxis: 'y',
            plugins: {
                ...chartOptions.plugins,
                tooltip: {
                    ...chartOptions.plugins.tooltip,
                    callbacks: {
                        label: function(context) {
                            const diff = context.dataIndex === 1 ?
                                ' (' + Math.round((1 - rainyAvg/dryAvg) * 100) + '% lower)' : '';
                            return Math.round(context.parsed.x).toLocaleString() + ' avg visitors' + diff;
                        }
                    }
                }
            },
            scales: {
                x: {
                    grid: { color: 'rgba(255,255,255,0.05)' },
                    ticks: {
                        color: '#888',
                        callback: function(value) {
                            return (value / 1000) + 'K';
                        }
                    }
                },
                y: {
                    grid: { display: false },
                    ticks: { color: '#ccc' }
                }
            }
        }
    });
    </script>
</body>
</html>
